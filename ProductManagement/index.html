<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAHARA - Product Management</title>
    <!-- Link to external CSS file -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../styles/main.css">
	<link rel="stylesheet" href="../styles/productManagement.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
</head>
<body>
	<!-- Header section with logo and navigation -->
    <nav class="navbar navbar-expand-sm topNav">
		<!--Logo-->
		<div class="logo-title">
			<img src="../images/sahara_logo.png" alt="Logo" class="logo">
		</div>
		<!--Search Bar-->
		<form class="d-flex ms-auto w-100 nav-item" role="search">
		  	<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
		  	<button class="btn btn-outline-primary btn-light" type="submit">Search</button>
		</form>
		<!--Create Account Link-->
		<a href="../ShopperAccountManagement/index.html" class="nav-item">Account Settings</a>
		<!--Cart Button-->
		<img src="../images/shopping_cart.png" alt="Shopping Cart" class="shopping_cart nav-item">
	</nav>
	
	<!--Links-->
	<nav class="navbar navbar-expand-sm justify-content-center bottomNav">
		<ul class="nav-links">
			<li><a href="../index.html">Home</a></li>
			<li><a href="#">About Us</a></li>
			<li><a href="#">Products</a></li>
		</ul>
	</nav>
	
	
        <!-- Account creation form -->
		<div class=searchSection>
			<h2>Product Management</h2>
			<div class="container" style="padding:50px 50px;">
				<form role="form">
					<div class="form-group">
					  <input type="input" class="form-control input-lg" id="txt-search" placeholder="Search for Existing Products">
					</div>
				</form>
			</div>
		</div>
        <div class="buttonTabs">
			<button id="addProdBtn" class="buttons">Add Product</button>
			<button id="updateProdBtn" class="buttons">Update Product</button>
			<button id="deleteProdBtn" class="buttons">Delete Product</button>
		</div>
        <div id="addProductForm" class="product-form">
	
	<section class="log-in">
            <h2>ADD PRODUCT</h2>
            <form id="addForm">
                <div class="form-group">
                    <label for="addId">Product ID:</label>
                    <input type="text" id="addId" name="id" required>
                </div>
                <div class="form-group">
                    <label for="addName">Product Name:</label>
                    <input type="text" id="addName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="addCategory">Category:</label>
                    <select id="addCategory" name="category" required>
                        <option value="">Select a category</option>
                        <option value="animals">Animals</option>
                        <option value="home-garden">Home and Garden</option>
                        <option value="plants">Plants</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="addQuantity">Quantity:</label>
                    <input type="number" id="addQuantity" name="quantity" min="0" required>
                </div>
                <div class="form-group">
                    <label for="addPrice">Price:</label>
                    <input type="number" id="addPrice" name="price" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="addDescription">Description:</label>
                    <textarea id="addDescription" name="description"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="hideForm('addProductForm')">Cancel</button>
                    <button type="submit" class="submit-btn">Add Product</button>
                </div>
            </form>
        </div>
        
        
        <div id="updateProductForm" class="product-form">
            <h2>UPDATE PRODUCT</h2>
            <form id="updateForm">
                <div class="form-group">
                    <label for="updateId">Product ID:</label>
                    <input type="text" id="updateId" name="id" required>
                </div>
                <div class="form-group">
                    <label for="updateName">Product Name:</label>
                    <input type="text" id="updateName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="updateCategory">Category:</label>
                    <select id="updateCategory" name="category" required>
                        <option value="">Select a category</option>
                        <option value="animals">Animals</option>
                        <option value="home-garden">Home and Garden</option>
                        <option value="plants">Plants</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="updateQuantity">Quantity:</label>
                    <input type="number" id="updateQuantity" name="quantity" min="0" required>
                </div>
                <div class="form-group">
                    <label for="updatePrice">Price:</label>
                    <input type="number" id="updatePrice" name="price" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="updateDescription">Description:</label>
                    <textarea id="updateDescription" name="description"></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="hideForm('updateProductForm')">Cancel</button>
                    <button type="submit" class="submit-btn">Update Product</button>
                </div>
            </form>
        </div>
        
        
        <div id="deleteProductForm" class="product-form">
            <h2>DELETE PRODUCT</h2>
            <form id="deleteForm">
                <div class="form-group">
                    <label for="deleteId">Product ID:</label>
                    <input type="text" id="deleteId" name="id" required>
                </div>
                <div class="form-group">
                    <p><strong>WARNING:</strong> THIS ACTION CANNOT BE UNDONE. ARE YOU SURE YOU WANT TO DELETE THIS PRODUCT?</p>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="hideForm('deleteProductForm')">Cancel</button>
                    <button type="submit" class="submit-btn">Delete Product</button>
                </div>
            </form>
        </div>
    </section>

	<section class="searchResults">
		<div id="filter-records"></div>
	</section>
	
    <!-- Footer section -->
    <footer>
        <p>&copy; 2025 Sahara. All rights reserved.</p>
    </footer>
	
    
    <script>
        
        document.getElementById('addProdBtn').addEventListener('click', function() {
            hideAllForms();
            document.getElementById('addProductForm').style.display = 'block';
        });
        
        document.getElementById('updateProdBtn').addEventListener('click', function() {
            hideAllForms();
            document.getElementById('updateProductForm').style.display = 'block';
        });
        
        document.getElementById('deleteProdBtn').addEventListener('click', function() {
            hideAllForms();
            document.getElementById('deleteProductForm').style.display = 'block';
        });
        
        function hideAllForms() {
            const forms = document.querySelectorAll('.product-form');
            forms.forEach(form => {
                form.style.display = 'none';
            });
        }
        
        function hideForm(formId) {
            document.getElementById(formId).style.display = 'none';
        }
        
        
        document.getElementById('addForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('PRODUCT ADDED SUCCESSFULLY!');
            this.reset();
            hideForm('addProductForm');
        });
        
        document.getElementById('updateForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('PRODUCT UPDATED SUCCESSFULLY!');
            this.reset();
            hideForm('updateProductForm');
        });
        
        document.getElementById('deleteForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if(confirm('ARE YOU ABSOLUTELY SURE YOU WANT TO DELETE THIS PRODUCT?')) {
                alert('PRODUCT DELETED SUCCESSFULLY!');
                this.reset();
                hideForm('deleteProductForm');
            }
        });
		
  $(document).ready(function(){
    var data = [
		{
			"id": "0",
			"description": "Camel",
			"category": "Animals",
			"quantity": "1",
			"price": "3599",
			"weight": "600",
		},
		{
			"id": "1",
			"description": "Palm Tree",
			"category": "Plants",
			"measure": "1",
			"price": "499",
			"weight": "1000",
		},
		{
			"id": "2",
			"description": "Sand",
			"category": "Home and Garden",
			"measure": "1",
			"price": "20",
			"weight": "15",
		},
	]

$('#txt-search').keyup(function(){
            var searchField = $(this).val();
			if(searchField === '')  {
				$('#filter-records').html('');
				return;
			}
			
            var regex = new RegExp(searchField, "i");
            var output = '<div class="row">';
            var count = 1;
			  $.each(data, function(key, val){
				  if ((val.description.search(regex) != -1) || (val.category.search(regex) != -1)) {
					output += '<div class="col-md-6 well">';
					output += '<div class="col-md-12 justify-content-start">';
					output += '<p>Product ID: ' + val.id + '</p>';
					output += '<p>Product Description: ' + val.description + '</p>';
					output += '<p>Category: ' + val.category + '</p>';
					output += '<p>Price: $' + val.price + '</p>';
					
					output += '</div></div>';
					if(count % 2 == 0){
					  output += '</div><div class="row">';
					}
					count++;
				  }
				});
			  output += '</div>';
			  $('#filter-records').html(output);
        });
  });
    </script>
</body>
</html>